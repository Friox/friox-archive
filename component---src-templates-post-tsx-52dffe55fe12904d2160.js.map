{"version":3,"file":"component---src-templates-post-tsx-52dffe55fe12904d2160.js","mappings":"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","sources":["webpack://gatsby-starter-friox/./node_modules/@chakra-ui/react/dist/esm/components/separator/separator.js","webpack://gatsby-starter-friox/./src/components/PostLayout/PostHeader.tsx","webpack://gatsby-starter-friox/./src/components/PostLayout/SeriesIndexList.tsx","webpack://gatsby-starter-friox/./src/components/PostLayout/TOC.tsx","webpack://gatsby-starter-friox/./node_modules/@giscus/react/dist/index.js","webpack://gatsby-starter-friox/./src/components/PostLayout/GiscusWidget.tsx","webpack://gatsby-starter-friox/./src/components/PostLayout/index.tsx","webpack://gatsby-starter-friox/./src/hooks/useScrollSpy.ts","webpack://gatsby-starter-friox/./src/templates/Post.tsx"],"sourcesContent":["\"use strict\";\n\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { forwardRef } from 'react';\nimport { createRecipeContext } from '../../styled-system/create-recipe-context.js';\nimport { chakra } from '../../styled-system/factory.js';\nimport { cx } from '../../utils/cx.js';\nimport { isString } from '../../utils/is.js';\nimport { omit } from '../../utils/omit.js';\n\nconst { useRecipeResult, PropsProvider } = createRecipeContext({\n  key: \"separator\"\n});\nconst Separator = forwardRef(\n  function Separator2(props, ref) {\n    const { styles, className, props: otherProps } = useRecipeResult(props);\n    const orientation = props.orientation || \"horizontal\";\n    return /* @__PURE__ */ jsx(\n      chakra.span,\n      {\n        ref,\n        role: isString(orientation) ? \"separator\" : \"presentation\",\n        \"aria-orientation\": isString(orientation) ? orientation : void 0,\n        ...omit(otherProps, [\"orientation\"]),\n        className: cx(className, props.className),\n        css: [styles, props.css]\n      }\n    );\n  }\n);\nconst SeparatorPropsProvider = PropsProvider;\n\nexport { Separator, SeparatorPropsProvider };\n","import React from 'react'\nimport { Box, Heading, SystemStyleObject, Text, Stack } from '@chakra-ui/react'\n\nconst postTitleStyle: SystemStyleObject = {\n  fontSize: '3xl',\n  wordBreak: 'keep-all',\n  marginTop: '18px',\n  lineHeight: 'short',\n  md: {\n    fontSize: '4xl',\n    lineHeight: 'shorter'\n  }\n}\n\nconst postDateStyle: SystemStyleObject = {\n  fontSize: 'sm',\n  marginTop: '18px',\n  color: 'fg.muted',\n  md: {\n    fontSize: 'md'\n  }\n}\n\ntype Props = { frontmatter: NonNullable<Queries.BlogPostPageQuery['post']>['frontmatter'] }\nconst PostHeader: React.FC<Props> = ({ frontmatter: fm }) => {\n  return (\n    <Box>\n      <Text fontWeight='bold' color='teal.solid'>{fm.category}</Text>\n      <Heading css={postTitleStyle}>{fm.title}</Heading>\n      <Stack css={postDateStyle} direction='row'>\n        <Text>{fm.createAt}</Text>\n        {fm.updateAt && (<Text>(편집됨: {fm.updateAt})</Text>)}\n      </Stack>\n    </Box>\n  )\n}\n\nexport default PostHeader","import React from 'react'\nimport { Text, Stack, Icon, SystemStyleObject } from '@chakra-ui/react'\nimport { FaAngleDoubleRight } from 'react-icons/fa'\n\nconst wrapperStyle: SystemStyleObject = {\n  border: '1px solid',\n  borderColor: 'border',\n  padding: '12px',\n  fontSize: 'sm',\n  lineHeight: 1,\n  md: {\n    fontSize: 'md'\n  }\n}\n\nconst seriesTitleStyle: SystemStyleObject = {\n  fontWeight: 'bold',\n  backgroundColor: 'bg.inverted',\n  color: 'fg.inverted',\n  width: 'fit-content',\n  padding: '4px 6px'\n}\n\nconst seriesLinkStyle: SystemStyleObject = {\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  display: 'inline-block',\n  cursor: 'pointer',\n  transition: 'color 0.1s linear',\n  _hover: {\n    color: 'fg'\n  }\n}\n\ntype Props = {\n  fm: NonNullable<Queries.BlogPostPageQuery['post']>['frontmatter']\n  seriesList: Queries.BlogPostPageQuery['seriesList']\n}\n\nconst SeriesIndexList: React.FC<Props> = ({ fm, seriesList }) => {\n  return (\n    <Stack css={wrapperStyle} gap='3'>\n      <Text css={seriesTitleStyle}>Series: {fm.series}</Text>\n      {seriesList.nodes.map(series => (\n        <Stack key={series.frontmatter.slug} direction='row' alignItems='center'>\n          <Icon as={FaAngleDoubleRight} color={fm.title == series.frontmatter.title ? 'teal.solid' : 'bg.emphasized'} />\n          <Text\n            css={seriesLinkStyle}\n            color={fm.title == series.frontmatter.title ? 'fg' : 'fg.subtle'}\n            onClick={fm.title != series.frontmatter.title ? () => location.href = `/post/${series.frontmatter.slug}` : () => {}}\n          >{series.frontmatter.title}</Text>\n        </Stack>\n      ))}\n    </Stack>\n  )\n}\n\nexport default SeriesIndexList","import React from 'react'\nimport { Box, Text, SystemStyleObject } from '@chakra-ui/react'\n\nconst tocWrapperStyle: SystemStyleObject = {\n  position: 'absolute',\n  height: '100%',\n  left: '100%',\n  marginLeft: '12px'\n}\n\nconst tocStyle: SystemStyleObject = {\n  whiteSpace: 'nowrap',\n  \"& ul\": {\n    paddingInlineStart: 0,\n    marginBlockStart: 0\n  },\n  \"& li\": {\n    marginLeft: '24px',\n  },\n  \"& a\": {\n    lineHeight: '1.8',\n    color: 'fg.subtle',\n    transition: 'color 0.1s linear',\n    fontSize: 'sm'\n  },\n  \"& a:hover\": {\n    color: 'fg'\n  },\n  \"& a.visible\": {\n    color: 'fg'\n  }\n}\n\ntype Props = { toc: NonNullable<NonNullable<Queries.BlogPostPageQuery['post']>['tableOfContents']>}\nconst TOC: React.FC<Props> = ({ toc }) => {\n  return (\n    <Box css={tocWrapperStyle} hideBelow='xl'>\n      <Box position='sticky' top='110px'>\n        <Box>\n          <Text marginLeft='24px'>목차</Text>\n        </Box>\n        <Box id='toc-wrapper' css={tocStyle} dangerouslySetInnerHTML={{__html: toc}} />\n      </Box>\n    </Box>\n  )\n}\n\nexport default TOC","import { jsx as b } from \"react/jsx-runtime\";\nimport { useState as h, useEffect as j } from \"react\";\nfunction y({ id: e, host: i, repo: o, repoId: r, category: n, categoryId: u, mapping: s, term: a, strict: d, reactionsEnabled: f, emitMetadata: m, inputPosition: c, theme: p, lang: l, loading: g }) {\n  const [t, x] = h(!1);\n  return j(() => {\n    t || import(\"./giscus-Ci9LqPcC.js\").then(() => x(!0));\n  }, []), t ? b(\"giscus-widget\", { id: e, host: i, repo: o, repoid: r, category: n, categoryid: u, mapping: s, term: a, strict: d, reactionsenabled: f, emitmetadata: m, inputposition: c, theme: p, lang: l, loading: g }) : null;\n}\nexport {\n  y as default\n};\n","import React from 'react'\nimport { Box } from '@chakra-ui/react'\nimport { useColorMode } from '../ui/color-mode'\nimport Giscus from '@giscus/react'\n\nconst GiscusWidget = () => {\n  const { colorMode } = useColorMode()\n  return (\n    <Box>\n      <Giscus\n        repo=\"Friox/friox-archive\"\n        repoId=\"R_kgDOORNENA\"\n        category=\"Comments\"\n        category-id=\"DIC_kwDOORNENM4ConHm\"\n        mapping=\"title\"\n        strict=\"0\"\n        reactions-enabled=\"1\"\n        emit-metadata=\"0\"\n        input-position=\"top\"\n        theme={colorMode}\n        lang=\"ko\"\n        loading=\"eager\"\n      />\n      <Box className='giscus'/>\n    </Box>\n  )\n}\n\nexport default GiscusWidget","import React from 'react'\nimport { Separator, Box } from '@chakra-ui/react'\nimport { usePostScrollSpy } from '@/hooks/useScrollSpy'\nimport Profile from '@/components/Profile'\nimport MarkdownStyle from '@/components/MarkdownStyle'\nimport PostHeader from './PostHeader'\nimport SeriesIndexList from './SeriesIndexList'\nimport TOC from './TOC'\nimport GiscusWidget from './GiscusWidget'\n\ntype Props = { post: Queries.BlogPostPageQuery }\nconst PostLayout: React.FC<Props> = ({ post: data }) => {\n  const { post, seriesList } = data\n  if (!post) return(<></>)\n  const { html, frontmatter, tableOfContents } = post\n  usePostScrollSpy()\n  return (\n    <Box >\n      <PostHeader frontmatter={frontmatter} />\n      <Separator marginY='18px'/>\n      {frontmatter.series && <SeriesIndexList fm={frontmatter} seriesList={seriesList}/>}\n      <Box id='post-wrapper' position='relative'>\n        {tableOfContents && (<TOC toc={tableOfContents}/>)}\n        <MarkdownStyle dangerouslySetInnerHTML={{__html: html!}}></MarkdownStyle>\n      </Box>\n      <Separator marginY='36px'/>\n      <Profile />\n      <Separator marginY='36px'/>\n      <GiscusWidget />\n    </Box>\n  )\n}\n\nexport default PostLayout","import { useEffect } from \"react\"\n\ninterface PostScrollSpyOptions {\n  onVisibilityChange?: (visibleIndexes: boolean[]) => void\n}\n\nconst escapeID = (str: string) => {\n  return str.replace(/^#(\\d)/, '#\\\\3$1 ')\n}\n\nexport const usePostScrollSpy = (options?: PostScrollSpyOptions) => {\n  useEffect(() => {\n    const cleanupFns: Array<() => void> = []\n\n    // 앵커 하이퍼링크 설정\n    const setupSmoothScroll = () => {\n      const anchors = document.querySelectorAll('a[href^=\"#\"]')\n      const clickHandler = (e: Event) => {\n        e.preventDefault()\n        const anchor = e.currentTarget as HTMLAnchorElement\n        const targetId = anchor.getAttribute('href')\n        if (!targetId) return\n        document.querySelector(escapeID(decodeURI(targetId)))?.scrollIntoView({\n          behavior: 'smooth'\n        })\n      }\n      anchors.forEach(anchor => {\n        anchor.addEventListener('click', clickHandler)\n      })\n      cleanupFns.push(() => {\n        anchors.forEach(anchor => {\n          anchor.removeEventListener('click', clickHandler)\n        })\n      })\n    }\n\n    // Intersection Observer\n    const setupIntersectionObserver = () =>  {\n      const tocLinks = document.querySelectorAll('#toc-wrapper a:not(.anchor)')\n      const headers = document.querySelectorAll('#post-wrapper h1[id],h2[id],h3[id]')\n      const visibleBools: boolean[] = Array(headers.length).fill(false)\n\n      if (tocLinks.length === headers.length && tocLinks.length > 0) {\n        const observer = new IntersectionObserver(entries => {\n          entries.forEach(entry => {\n            const idxAttr = entry.target.getAttribute('idx')\n            const targetIdx = idxAttr !== null ? parseInt(idxAttr) : null\n            if (targetIdx !== null && !isNaN(targetIdx)) {\n              visibleBools[targetIdx] = entry.isIntersecting\n            }\n          })\n          \n          let anchorFlag = false\n          tocLinks.forEach((link, i) => {\n            if (visibleBools[i] && !anchorFlag) {\n              link.classList.add('visible')\n              anchorFlag = true\n            } else {\n              link.classList.remove('visible')\n            }\n          })\n\n          options?.onVisibilityChange?.(visibleBools)\n        }, {\n          root: null,\n          rootMargin: '-110px 0px 0px 0px'\n        })\n\n        headers.forEach((header, idx) => {\n          header.setAttribute('idx', idx.toString())\n          observer.observe(header)\n        })\n        cleanupFns.push(() => observer.disconnect())\n      }\n    }\n\n    // 적용\n    setupSmoothScroll()\n    setupIntersectionObserver()\n\n    // 언마운트 함수\n    return () => {\n      cleanupFns.forEach(cleanup => cleanup())\n    }\n  })\n}","import React from 'react'\nimport { graphql, HeadFC, PageProps } from 'gatsby'\nimport Layout from '@/components/Layout'\nimport { Container } from '@chakra-ui/react'\nimport PostLayout from '@/components/PostLayout'\n\nconst Post: React.FC<PageProps<Queries.BlogPostPageQuery>> = ({ data }) => {\n  return (\n    <Layout enableSearch={false}>\n      <Container maxW='3xl'>\n        <PostLayout post={data} />\n      </Container>\n    </Layout>\n  )\n}\n\nexport default Post\n\nexport const Head: HeadFC<Queries.BlogPostPageQuery> = ({ data, location }) => {\n  if (!data.post) { return <></> }\n  const siteUrl = data.site?.siteMetadata?.siteUrl\n  const title = data.post.frontmatter.title\n  const description = data.post.frontmatter.description\n  return (\n    <>\n      <title>{title}</title>\n      {description && <meta name='description' content={description} />}\n      {siteUrl && <link rel='canonical' href={`${siteUrl}${location.pathname}`} />}\n      <meta property=\"og:title\" content={title} />\n      {description && <meta property=\"og:description\" content={description} />}\n      {siteUrl && <meta property=\"og:url\" content={`${siteUrl}${location.pathname}`} />}\n      <meta property=\"og:type\" content=\"article\" />\n    </>\n  )\n}\n\nexport const query = graphql`\n  query BlogPostPage(\n    $id: String!\n    $series: String\n  ) {\n    post: markdownRemark(id: { eq: $id }) {\n      id\n      excerpt(pruneLength: 200, truncate: true)\n      html\n      frontmatter {\n        title\n        description\n        createAt(formatString: \"YYYY. MM. DD.\")\n        updateAt(formatString: \"YYYY. MM. DD. hh:mm\")\n        category\n        tags\n        series\n      }\n      tableOfContents\n    }\n    seriesList: allMarkdownRemark(\n      sort: { frontmatter: { createAt: ASC } }\n      filter: { frontmatter: { series: { eq: $series } } }\n    ) {\n      nodes {\n        frontmatter {\n          slug\n          title\n        }\n      }\n    }\n    site {\n      siteMetadata {\n        siteUrl\n      }\n    }\n  }\n`"],"names":["useRecipeResult","PropsProvider","key","Separator","forwardRef","props","ref","styles","className","otherProps","orientation","jsx","span","role","is","omit","cx","css","postTitleStyle","fontSize","wordBreak","marginTop","lineHeight","md","postDateStyle","color","_ref","frontmatter","fm","React","Box","Text","fontWeight","category","Heading","title","Stack","direction","createAt","updateAt","wrapperStyle","border","borderColor","padding","seriesTitleStyle","backgroundColor","width","seriesLinkStyle","whiteSpace","overflow","textOverflow","display","cursor","transition","_hover","seriesList","gap","series","nodes","map","slug","alignItems","Icon","as","FaAngleDoubleRight","onClick","location","href","tocWrapperStyle","position","height","left","marginLeft","tocStyle","paddingInlineStart","marginBlockStart","toc","hideBelow","top","id","dangerouslySetInnerHTML","__html","y","e","host","i","repo","o","repoId","r","n","categoryId","u","mapping","s","term","a","strict","d","reactionsEnabled","f","emitMetadata","m","inputPosition","c","theme","p","lang","l","loading","g","t","x","then","repoid","categoryid","reactionsenabled","emitmetadata","inputposition","GiscusWidget","colorMode","useColorMode","Giscus","post","data","html","tableOfContents","options","useEffect","cleanupFns","setupSmoothScroll","anchors","document","querySelectorAll","clickHandler","_document$querySelect","preventDefault","targetId","currentTarget","getAttribute","querySelector","decodeURI","replace","scrollIntoView","behavior","forEach","anchor","addEventListener","push","removeEventListener","setupIntersectionObserver","tocLinks","headers","visibleBools","Array","length","fill","observer","IntersectionObserver","entries","_options$onVisibility","entry","idxAttr","target","targetIdx","parseInt","isNaN","isIntersecting","anchorFlag","link","classList","add","remove","onVisibilityChange","call","root","rootMargin","header","idx","setAttribute","toString","observe","disconnect","cleanup","PostHeader","marginY","SeriesIndexList","TOC","MarkdownStyle","Profile","Layout","enableSearch","Container","maxW","PostLayout","Head","_ref2","_data$site","_data$site$siteMetada","siteUrl","site","siteMetadata","description","name","content","rel","pathname","property"],"sourceRoot":""}